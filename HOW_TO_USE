This file explains the usage of the Packettracking components 
Netview (Visualizer) and Matcher (Correlation) and the interaction 
with the measurement probe (impd4e). 

Additional Information can be obtained on:
www.fokus.fraunhofer.de/go/track

You can obtain the latest impd4e measurement probe version via git 
from sourceforge with
git clone git://impd4e.git.sourceforge.net/gitroot/impd4e/impd4e 
This measurement probe should be installed on all your monitored devices.

How to start:

1. Netview  (the packet tracking visualisation)

to start run the supplied

./netview.sh

In case you get any exceptions please check if you are using sun-java6-jre. 
(on some machines there are issues with the alternative java-6-openjdk)

To check/configure which java you are using run:
update-alternatives --config java
(the availability of this command depends on your distribution)

2. Matcher 

This central component computes packet tracks from packet observations.

Be aware that the Matcher is required to be run on a host with a public 
reachable IP address or runs in the same network (or LAN) as the 
measurement probes. In any case the probes must be able to open a TCP
connection _to_ the matcher host.

see available commandline arguments with:
./matcher.sh -h

start matcher in default mode (netview and matcher on same machine and 
no data recording in comma-separated-value (csv) format)
./matcher.sh

In case the Netview and the Matcher run on different machines you have 
to configure the ExportHost
./matcher -exportHost <IP_address_of_Netview_Host>

In case that the machine running Netview has no publicly reachable IP 
address (e.g. because it is in another domain or behind a NAT), then 
you may use ssh reverse forwarding. For this login to the machine 
running Netview and type

ssh -R 40123:localhost:40123 <user>@<matcher_host>

This forwards the export port 40123 from the matcher host to your 
Netview host. 

3. impd4e

For installation and configuration instruction please refer to the 
INSTALL and README files of the impd4e distribution. 

Start your measurement probe(s) with:
sudo impd4e -i <interface> -C <matcher_IP_address> -o <probeID>

This requires that the matcher runs on a machine that is public 
reachable by the measurement probes (probes can TCP connect to it).
The -o option specifies the probeID (observation domain ID). This 
probeID must be configured in the xml file for Netview.

4. Matcher Console 

On the host that runs the matcher you can interactively manage and 
configure the measurement probes via the matcher. Connect to the 
matcher console with:

telnet localhost 4000 

The arguments for the consoles can be obtained by typing h. 
Simple commands are:

p         (prints the connected probes)
p* -r 100 (increase the sampling ratio to 100% for all the probes)
p3 -f tcp (only sample tcp packet at probe 3)

5. Usage of Netview

a. make sure that you load a valid xml file (via the GUI) that describes 
   the GPS coordinates and the probeIDs (-o option of impd4e) - refer
   to teh example.xml for a template. You can load the xml in Netview under
   the "Data Sources" tab by clicking the Import Button. 

b. In case you do not see any tracks or nodes - make sure that the relevant 
   visual layers are active. Open the "Map" tab. Click on the layer icon in 
   the toolbar on the right. Check markers and network tracks to be visible.
   
In case of further questions contact:
packettracking@fokus.fraunhofer.de


   
   







