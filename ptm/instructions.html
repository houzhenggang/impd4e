<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>PTM instructions</title>
</head>
<body>
<h1>0. Installation</h1>
<div>
Just unpack the provided archive anywhere. By default, the system will assume that it gets installed to /opt/ptm. If you install to a different location you will have to set the PTM_HOME environment variable.<br />
</div>
<h1>1. Overview</h1>
<div>
for a high level overview about what this is all about, be sure to also read <a href="IPOM2009.pdf">IPOM2009.pdf</a><br/>
</div>
<h2>General</h2>
<div>
The three main concepts of this framework Resources, ResourceAdapters and Managers. All three represented by a java interface or python base class.<br/>
<ul>
<li>Resources are what this is actually all about. They represent physical or logical assets like Servers, Instances of software packages or user accounts. Each resource is identified by an id which is unique across the PTMs domain.<br/> There are to types of dependencies between resources: containment and reference. Resources are arranged in a hierarchical way, meaning that one resource can contain zero or more child resources while it has zero or one parent resources. Consider for example a virtual linux server as a root resource. It could contain an arbitrary number of Mysql Servers each of which could contain an arbitrary number of databases, users and so on.  On the other hand the server might also contain another resource which uses a mysql database to store data. This resource would have a reference to a mysql database.<br/>Also resources can expose functions and always have a set of configuration data, consisting of a mapping of key-value pairs. Keys are always strings while values can be any primitive data type like Integer, Bool, etc., other Resources as well as arrays and Mappings (java.lang.Map) of those.<br/>In order to implement a resource you would implement the de.fhg.fokus.ptm.Resource interface.</li>
<li>ResourceAdapters are responsible for creating, finding and deleting resources. They can be responsible for one or more types of resources. ResourceAdapters are also identified by an id, however in the current state of the implementation, this ID is the same as their managers ID. Several adapters can have the same id, and it is their managers job to distribute requests among them. In order to implement a ResourceAdapter you would implement de.fhg.fokus.ptm.ResourceAdapter (in Java) or extend ptm.AbstractResourceAdapter (in python)</li>
<li>Managers are the gateway between one or more ResourceAdapters and the PTMs network. They serve three purposes: <ol><li>Abstraction of the underlying provisioning scheme and transport.</li><li>Accept incoming requests and route them to the appropriate resource adapters.</li><li>Serve as a client for attaches ResourceAdapters and allow them to access other Resources within the PTM.</li></ol> Managers also have an id although currently it is the same as those of the Adapters behind them. you should generally not need to implement a manager unless you want to introduce new provisioning schemes or transports.</li>
</ul>
</div>
<h2>The Hub</h2>
<div>The Hub is a central authority which keeps track of all Managers and how to reach them. It has to run in order for the whole system to work, but apart from that you should not have to bother with it. Currently, it is only available in python. To launch it, execute "$PTM_HOME/bin/ptmhub [port]". If you omit the port number it will default to 8000. After it is running, you should be able to access the PTM's webfrontend at http://localhost:8000<br/>
Many components expect by default to find the hub at http://ptm:8000. This is configurable, but if you want to make you life easier just add "ptm" to /etc/hosts.</br></div>
<h2>IDs</h2>

<div>
the current implementation uses an hierachical ID scheme which reproduces the containment hierarchy between resources. There is an important distinction between the ID of a manager or adapter (which ends with a '/') and the ID of a resource (which does not). Each part of an id has type and name information encoded. Ids look somewhat like Unix file system paths:<br/>
<ul>
<li>/xennode-36   &lt;--a resource of type xennode and name 36.</li>
<li>/xennode-36/mysql-42 &lt;-- a mysql resource inside xennode_36</li>
<li>/xennode-36/mysql &lt;-- a RA responsible for managing instances of the type mysql inside /xennode-36</li>
<li>/xennode-36/mysql-42/ &lt;-- a RA responsible for managing instances of any type inside /xennode-36</li>
</ul>
</div>
<h3>RA implementation</h3>
<div>This section is under development. Please refer to the provided examples in the meantime.</div>
<div>
	to run the examples, use the provided rarunner script (in $PTM_HOME/bin):<br/>
	# rarunner &lt;Fully qualified RA class name&gt;<br/>
	e.g.: # rarunner SimpleTestAdapter.SimpleTestAdapter.SimpleTestAdapter<br/>
	e.g.: # rarunner ConfigDemoAdapter.ConfigDemoAdapter.ConfigDemoAdapter
</div>
</body>
</html>